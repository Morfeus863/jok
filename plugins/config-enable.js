let handler = async (m, { conn, usedPrefix, command, args, isOwner, isAdmin, isROwner }) => {
    const sections = [
    {
    title: `*LISTA DE OPCIONES*`,
    rows: [
    {title: "‚ú® | WELCOME", description: "ACTIVA O DESACTIVA LA BIENVENIDA EN EL GRUPO", rowId: `${usedPrefix + command} welcome`},
    {title: "üåé | MODO PUBLICO", description: "EL BOT SE VUELVE DE USO PUBLICO Y/O PRIVADO", rowId: `${usedPrefix + command} public`},
    {title: "ü•µ | MODO HORNY", description: "ACTIVA O DESACTIVA LOS COMANDOS +18", rowId: `${usedPrefix + command} modohorny`},
    {title: "üîó | ANTILINK", description: "ACTIVA O DESACTIVA EL ANTI ENLACES DE GRUPOS DE WHATSAPP", rowId: `${usedPrefix + command} antilink`},   
    {title: "üîó | ANTILINK 2", description: "ACTIVA O DESACTIVA EL ANTI ENLACES QUE INICIAN EN HTTPS", rowId: `${usedPrefix + command} antilink2`},    
    {title: "üîé | DETECT", description: "ACTIVA O DESACTIVA LAS NOTIFICACIONES DE NUEVA MODIFICACION EN UN GRUPO", rowId: `${usedPrefix + command} detect`},      
    {title: "‚ùó | RESTRICT", description: "ACTIVA O DESACTIVA LAS RESTRICCIONES PARA SACAR GENTE DE GRUPOS", rowId: `${usedPrefix + command} restrict`},    
    {title: "‚òëÔ∏è | AUTOREAD", description: "MARCA AUTOMATICAMENTE LAS CONVERSACIONES COMO LEIDO", rowId: `${usedPrefix + command} autoread`},
    {title: "üîä | AUDIOS", description: "ACTIVA O DESACTIVA LOS COMANDOS DE AUDIOS SIN PREFIJO", rowId: `${usedPrefix + command} audios`},
    {title: "üëæ | AUTOSTICKER", description: "TODAS LAS IMAGENES, VIDEOS O ENLACES ENVIADOS SE CONVIERTEN EN STICKER", rowId: `${usedPrefix + command} autosticker`},
    {title: "üí¨ | PCONLY", description: "EL BOT SOLO RESPONDERA A LOS COMANDOS SI ES UN CHAT PRIVADO", rowId: `${usedPrefix + command} pconly`},
    {title: "üè¢ | GCONLY", description: "EL BOT SOLO RESPONDERA A LOS COMANDOS SI ES UN GRUPO", rowId: `${usedPrefix + command} gconly`},
    {title: "‚ùå | ANTIVIEWONCE", description: "ACTIVA O DESACTIVA EL ANTI VER UNA SOLA VEZ", rowId: `${usedPrefix + command} antiviewonce`},
    {title: "üìµ | ANTILLAMADA", description: "ACTIVA O DESACTIVA EL ANTI LLAMADA", rowId: `${usedPrefix + command} anticall`},
    {title: "üí¨ | ANTIPRIVADO", description: "EL BOT BLOQUEARA A LOS USUARIOS QUE LE HABLEN AL PRIVADO", rowId: `${usedPrefix + command} antiprivado`},
    {title: "ü§¨ | ANTITOXIC", description: "ACTIVA O DESACTIVA EL ANTI MALAS PALABRAS", rowId: `${usedPrefix + command} antitoxic`},
    {title: "üï∏Ô∏è | ANTITRABAS", description: "ACTIVA O DESACTIVA EL ANTI BINARIOS O TRABAS", rowId: `${usedPrefix + command} antitraba`},
    {title: "ü•∏ | ASISTENTE", description: "ACTIVA O DESACTIVA EL ASISTENTE DE GRUPOS ü•∏", rowId: `${usedPrefix + command} asistente`},
    {title: "üé≠ | ASISTENTE GRUPOSROL", description: "ACTIVA O DESACTIVA EL ASISTENTE DE GRUPOS DE ROL", rowId: `${usedPrefix + command} gruposrol`},
    ]}, ]
    //let name = await conn.getName(m.sender)
    const listMessage = {
    text: ' ',
    footer: `‚îè‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îì
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *welcome*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *welcome*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *public*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *public*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *modohorny*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *modohorny*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *antilink*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *antilink*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *antilink2*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *antilink2*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *detect*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *detect*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *restrict*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *restrict*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *pconly*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *pconly*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *gconly*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *gconly*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *autoread*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *autoread*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *audios*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *audios*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *antiviewonce*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *antiviewonce*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *autosticker*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *autosticker*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *anticall*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *anticall*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *antiprivado*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *antiprivado*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *antitoxic*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *antitoxic*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *antitraba*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *antitraba*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *asistente*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *asistente*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}enable *gruposrol*_
    ‚î£ ‡∂¨‚Éü‚ÑπÔ∏è _${usedPrefix}disable *gruposrol*_
    ‚îó‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îõ`,
    title: null,
    buttonText: "*SELECCIONE AQU√ç*",
    sections }
    
    let isEnable = /true|–≤–∫–ª—é—á–∏—Ç—å|(turn)?on|1/i.test(command)
    let chat = global.db.data.chats[m.chat]
    let user = global.db.data.users[m.sender]
    let bot = global.db.data.settings[conn.user.jid] || {}
    let type = (args[0] || '').toLowerCase()
    let isAll = false, isUser = false
    switch (type) {
    case 'welcome':
    if (!m.isGroup) {
    if (!isOwner) {
    global.dfail('group', m, conn)
    throw false
    }
    } else if (!isAdmin) {
    global.dfail('admin', m, conn)
    throw false
    }
    chat.welcome = isEnable
    break
    case 'detect':
    if (!m.isGroup) {
    if (!isOwner) {
    global.dfail('group', m, conn)
    throw false
    }
    } else if (!isAdmin) {
    global.dfail('admin', m, conn)
    throw false
    }
    chat.detect = isEnable
    break
    case 'delete':
    if (m.isGroup) {
    if (!(isAdmin || isOwner)) {
    global.dfail('admin', m, conn)
    throw false
    }}
    chat.delete = isEnable
    break
    case 'antidelete':
    if (m.isGroup) {
    if (!(isAdmin || isOwner)) {
    global.dfail('admin', m, conn)
    throw false
    }}
    chat.delete = !isEnable
    break
    case 'public':
    isAll = true
    if (!isROwner) {
    global.dfail('rowner', m, conn)
    throw false
    }
    global.opts['self'] = !isEnable
    break
    case 'antilink':
    if (m.isGroup) {
    if (!(isAdmin || isOwner)) {
    global.dfail('admin', m, conn)
    throw false
    }}
    chat.antiLink = isEnable
    break
    case 'antilink2':
    if (m.isGroup) {
    if (!(isAdmin || isOwner)) {
    global.dfail('admin', m, conn)
    throw false
    }}
    chat.antiLink2 = isEnable 
    break
    case 'antiviewonce':
    if (m.isGroup) {
    if (!(isAdmin || isOwner)) {
    global.dfail('admin', m, conn)
    throw false
    }}
    chat.antiviewonce = isEnable 
    break
    case 'modohorny':
    if (m.isGroup) {
    if (!(isAdmin || isOwner)) {
    global.dfail('admin', m, conn)
    throw false
    }}
    chat.modohorny = isEnable          
    break
    case 'autosticker':
    if (m.isGroup) {
    if (!(isAdmin || isOwner)) {
    global.dfail('admin', m, conn)
    throw false
    }}
    chat.autosticker = isEnable          
    break
    case 'audios':
    if (m.isGroup) {
    if (!(isAdmin || isOwner)) {
    global.dfail('admin', m, conn)
    throw false
    }}
    chat.audios = isEnable          
    break
    case 'restrict':
    isAll = true
    if (!isOwner) {
    global.dfail('owner', m, conn)
    throw false
    }
    bot.restrict = isEnable
    break
    case 'nyimak':
    isAll = true
    if (!isROwner) {
    global.dfail('rowner', m, conn)
    throw false
    }
    global.opts['nyimak'] = isEnable
    break
    case 'autoread':
    isAll = true
    if (!isROwner) {
    global.dfail('rowner', m, conn)
    throw false
    }
    global.opts['autoread'] = isEnable
    break
    case 'pconly':
    case 'privateonly':
    isAll = true
    if (!isROwner) {
    global.dfail('rowner', m, conn)
    throw false
    }
    global.opts['pconly'] = isEnable
    break
    case 'gconly':
    case 'grouponly':
    isAll = true
    if (!isROwner) {
    global.dfail('rowner', m, conn)
    throw false
    }
    global.opts['gconly'] = isEnable
    break
    case 'swonly':
    case 'statusonly':
    isAll = true
    if (!isROwner) {
    global.dfail('rowner', m, conn)
    throw false
    }
    global.opts['swonly'] = isEnable
    break
    case 'anticall':
    isAll = true
    if (!isROwner) {
    global.dfail('rowner', m, conn)
    throw false
    }
    bot.antiCall = isEnable
    break
    case 'antiprivado':
    isAll = true
    if (!isROwner) {
    global.dfail('rowner', m, conn)
    throw false
    }
    bot.antiPrivate = isEnable
    break
    case 'antitoxic':
    if (m.isGroup) {
    if (!(isAdmin || isOwner)) {
    global.dfail('admin', m, conn)
    throw false
    }}
    chat.antiToxic = isEnable
    break
    case 'antitraba':
    if (m.isGroup) {
    if (!(isAdmin || isOwner)) {
    global.dfail('admin', m, conn)
    throw false
    }}
    chat.antiTraba = isEnable
    break
    case 'asistente':
    if (m.isGroup) {
    if (!(isAdmin || isOwner)) {
    global.dfail('admin', m, conn)
    throw false
    }}
    chat.asistente = isEnable
    break
    case 'gruposrol':
    if (m.isGroup) {
    if (!(isAdmin || isOwner)) {
    global.dfail('admin', m, conn)
    throw false
    }}
    chat.gruposrol = isEnable
    break
    default:
    if (!/[01]/.test(command)) return await conn.sendMessage(m.chat, listMessage)
    throw false
    }
    conn.sendButton(m.chat, `üóÇÔ∏è –§–£–ù–ö–¶–ò–Ø: ${type} 
    üéöÔ∏è ESTADO: ${isEnable ? '–í–ö–õ–Æ–ß–ï–ù–ê' : '–í–´–ö–õ–Æ–ß–ï–ù–ê'}
    üì£ –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø: ${isAll ? '–î–õ–Ø –ë–û–¢–ê' : isUser ? '' : '–î–õ–Ø –ì–†–£–ü–ü–´'}`, author, null, [[`${isEnable ? '‚úñÔ∏è –í–´–ö–õ–Æ–ß–ò–¢–¨ ‚úñÔ∏è' : '‚úîÔ∏è –í–ö–õ–Æ–ß–ò–¢–¨ ‚úîÔ∏è'}`, `${isEnable ? `#false ${type}` : `#true ${type}`}`], ['üëæ –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ üëæ', '#menu']], m)}
    handler.help = ['–≤–∫–ª', '–≤—ã–∫–ª'].map(v => v + '—é—á–∏—Ç—å <option>')
    handler.tags = ['group', 'owner']
    handler.command = /^((–≤–∫–ª|–≤—ã–∫–ª)—é—á–∏—Ç—å|(tru|fals)e|(turn)?[01])$/i
    export default handler
    